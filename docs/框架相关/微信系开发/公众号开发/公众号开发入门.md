### 1. 分类
- 订阅号
> 1条/天群发消息，适用于个人开发者，媒体单位，功能少。

- 服务号
> 4条/月群发消息，适用于企业、政府组织、功能多

- 微信小程序
- 企业微信开发
### 2. 订阅号/服务号代发模式
> 1. 打开官网[注册](https://mp.weixin.qq.com)
> 2. 选择订阅/服务号注册（使用未注册过的邮箱进行注册）
> 3. 按步骤进行注册

### 3. 个人开发者可使用测试号开发

- 开发工具
> 1. 开发者文档
> 2. 在线接口调试工具
> 3. 微信开发工具

- 测试号[申请](https://mp.weixin.qq.com/debug/cgi-bin/sandbox?t=sandbox/login)
### 4. 消息发送过程

- 消息发送流程图

![](https://cdn.nlark.com/yuque/0/2022/jpeg/12794520/1668321165875-8258b9b4-7156-45e4-b634-5b1dac74748b.jpeg)
### 5. 生成公网地址的工具 ngrok

- 微信服务器验证开发者服务器 
> 测试号管理界面填写url(使用 ngrok 内网穿透，将本地端口开启的服务映射到外网的开发者服务器url)

- 填写token：token是参与微信签名加密的一个参数
- 开负责服务器验证消息是否来自微信服务器
- 生成公网地址命令：`ngrok http port 8082`
### 6. 微信平台的验证算法
> timestamp、nonce、token按字典序排列并且形成一个字符串，进行sha1加密，如果和signature对比，相等说明请求是来自微信服务器，返回echoStr，否则返回Error

### 7. 获取access_token步骤

- 说明
> `access_token `是调用微信接口的全局唯一凭证，有效期是2h，需要定期刷新。

- 功能分析：
> 1. 唯一的
> 2. 有效期2h，提前5分钟刷新
> 3. 接口权限每天2000次

- 设计思路
> 1. 首次本地没有，发送请求获取 `access_token`，保存下来，保存在本地文件比较安全
> 2. 第二次之后，先去读取文件，判断是否过期，没过期直接使用，否则重新请求`access_token`，保存下来，覆盖之前的文件，保证文件是唯一的。 

### 8. 获取用户发送的信息
### 9. 微信公众号中的网页开发
> 1. 获取 ticket，保存下来，生成jssdk使用的签名，组合jsapi_ticket（临时凭证）、nonceStr（随机字符串）、timestam（时间戳）、url（当前服务器地址）；将其按照字典序排序，以‘&’拼接在一起进行sha1加密，最终生成签名（signature）

### 10. 爬虫依赖包 pupptree
### 11. 视频播放插件 DPlayer
