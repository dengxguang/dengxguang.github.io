## 如何让页面变得丝滑

### 什么是 Web 性能

Web 性能是指网站内容在网页浏览器中的加载和渲染速度，以及对用户交互的响应。

#### 用户感知性能

### 页面丝滑有什么衡量标准

#### FPS

#### RAIL

| RAIL |  用户操作 | 关键指标 |
| ------- | ---------- | -----------|
| 响应（Response） | 点击按钮。                    | 小于100ms|
| 动画（Animation）| 滚动页面，拖动手指，播放动画等。  | 小于16ms |
| 空闲（Idle）     | 用户没有与页面交互，但应该保证主线程足够处理下一个用户输入。| 小50ms |
| 加载（Load）     | 用户加载页面并看到内容。 | 1000ms|


### 如何准确测量出性能数据

#### react-scan （why-did-you-rendr）

#### 自定义获取 FPS 工具 / Profiler 组件

#### 封装监控工具 NPM 包。
  - 实现一键引入WDYR
  - FPS 监控工具

### 使用有效的方法让网页变得丝滑

1. 使用原子化状态管理工具，拆分组件状态

### 功能回归测试

#### 开单页面的降级方案

##### 开单页面
1. 方案一
  按业务场景进行渐进式优化&测试&灰度&发布
    - 优先处理弹窗状体，使用jotai 替代 useState，以减少父组件的重复渲染
    - 

2. 场景类别
   
- 普通开单 
- 改单 
- 查看详情
- 电子面单补录
- 预开单/批量地址查询导入开单
- 新单返货开单
- KA单 / 顺心大票 / 顺丰大票
- ...

-- 问题

-- 定位问题-标准

-- 如何获取性能指标（数据采集、上报、 数据驾驶舱todo）

-- 开发中性能 debug 方案

-- 沉淀出基于React高性能应用开发规范

-- 实践

